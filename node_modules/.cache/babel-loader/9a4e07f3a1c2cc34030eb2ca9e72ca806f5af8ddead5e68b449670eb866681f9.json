{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getMessages, uploadMessages } from \"@/api/mocky\";\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nVue.use(Vuex);\nexport function state() {\n  return {\n    messages: []\n  };\n}\nexport const mutations = {\n  async setMessages(state, data) {\n    state.messages = data;\n  },\n  addMessage(state) {\n    if (state.messages.length === 0) {\n      state.messages.push({\n        id: 1,\n        voice: \"\",\n        text: \"\"\n      });\n    } else {\n      const newId = state.messages[state.messages.length - 1].id + 1;\n      state.messages.push({\n        id: newId,\n        voice: \"\",\n        text: \"\"\n      });\n    }\n  },\n  deleteMessage(state, id) {\n    const index = state.messages.findIndex(message => message.id === id);\n    state.messages.splice(index, 1);\n  },\n  updateMessageVoice(state, target) {\n    const {\n      id,\n      value\n    } = target;\n    const idValue = id.split(\"voice-id-\")[1];\n    const indexToUpdate = state.messages.findIndex(message => message.id === Number(idValue));\n    state.messages[indexToUpdate].voice = value;\n  },\n  updateMessageText(state, target) {\n    const {\n      id,\n      value\n    } = target;\n    const idValue = id.split(\"text-id-\")[1];\n    const indexToUpdate = state.messages.findIndex(message => message.id === Number(idValue));\n    state.messages[indexToUpdate].text = value;\n  },\n  uploadMessages(_, status) {\n    if (status === 200) {\n      alert(\"Messages uploaded successfully\");\n    } else {\n      alert(\"An error has occured while uploading the data, please try again later.\");\n    }\n  }\n};\nexport const actions = {\n  async getMessages({\n    commit\n  }) {\n    const data = await getMessages();\n    commit(\"setMessages\", data);\n  },\n  async uploadMessages({\n    commit,\n    state\n  }) {\n    const status = await uploadMessages(state.messages);\n    commit(\"uploadMessages\", status);\n  }\n};\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions\n});","map":{"version":3,"names":["getMessages","uploadMessages","Vue","Vuex","use","state","messages","mutations","setMessages","data","addMessage","length","push","id","voice","text","newId","deleteMessage","index","findIndex","message","splice","updateMessageVoice","target","value","idValue","split","indexToUpdate","Number","updateMessageText","_","status","alert","actions","commit","Store"],"sources":["/Users/ismael/Documents/personal/frontend-challenge/unbabel-test/src/store/index.js"],"sourcesContent":["import { getMessages, uploadMessages } from \"@/api/mocky\";\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport function state() {\n  return {\n    messages: [],\n  };\n}\n\nexport const mutations = {\n  async setMessages(state, data) {\n    state.messages = data;\n  },\n  addMessage(state) {\n    if (state.messages.length === 0) {\n      state.messages.push({\n        id: 1,\n        voice: \"\",\n        text: \"\",\n      });\n    } else {\n      const newId = state.messages[state.messages.length - 1].id + 1;\n      state.messages.push({\n        id: newId,\n        voice: \"\",\n        text: \"\",\n      });\n    }\n  },\n  deleteMessage(state, id) {\n    const index = state.messages.findIndex((message) => message.id === id);\n    state.messages.splice(index, 1);\n  },\n  updateMessageVoice(state, target) {\n    const { id, value } = target;\n    const idValue = id.split(\"voice-id-\")[1];\n    const indexToUpdate = state.messages.findIndex(\n      (message) => message.id === Number(idValue)\n    );\n    state.messages[indexToUpdate].voice = value;\n  },\n  updateMessageText(state, target) {\n    const { id, value } = target;\n    const idValue = id.split(\"text-id-\")[1];\n    const indexToUpdate = state.messages.findIndex(\n      (message) => message.id === Number(idValue)\n    );\n    state.messages[indexToUpdate].text = value;\n  },\n  uploadMessages(_, status) {\n    if (status === 200) {\n      alert(\"Messages uploaded successfully\");\n    } else {\n      alert(\n        \"An error has occured while uploading the data, please try again later.\"\n      );\n    }\n  },\n};\n\nexport const actions = {\n  async getMessages({ commit }) {\n    const data = await getMessages();\n    commit(\"setMessages\", data);\n  },\n  async uploadMessages({ commit, state }) {\n    const status = await uploadMessages(state.messages);\n    commit(\"uploadMessages\", status);\n  },\n};\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}